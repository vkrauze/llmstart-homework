---
alwaysApply: true
---
# Правила разработки кода

Данный документ содержит правила разработки кода для проекта LLM-ассистента в Telegram. Основан на техническом видении из [@vision.md](./vision.md).

## Общие принципы

- Следуй принципу **KISS** (Keep It Simple, Stupid) во всем
- Используй **функциональный подход** вместо ООП
- Минимизируй количество зависимостей
- Пиши код так, чтобы его было легко понять и поддерживать

## Структура кода

- Размещай код согласно структуре проекта из [@vision.md](./vision.md)
- Каждый модуль должен иметь одну четкую ответственность
- Избегай создания сложных иерархий и абстракций

## Стиль кода

- Используй типизацию для функций
- Документируй публичные функции (docstrings)
- Следуй PEP 8 для форматирования кода
- Используй говорящие имена переменных и функций

## Работа с данными

- Храни данные в простых структурах (словари, списки)
- Используй формат сообщений как указано в [@vision.md](./vision.md)
- Не усложняй модель данных без необходимости

## Работа с LLM

- Используй простые промпты
- Минимизируй количество запросов к API
- Логируй все запросы и ответы

## Конфигурация

- Все настройки должны быть в файле `.env`
- Не хардкодь секретные данные и настройки

## Тестирование

- Пиши тесты для критических компонентов
- Используй pytest для автоматизированных тестов
- Начинай с ручного тестирования

## Зависимости

- Управляй зависимостями через uv и pyproject.toml
- Используй только необходимые библиотеки