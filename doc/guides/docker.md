# Инструкция по запуску в Docker

Данная инструкция описывает процесс запуска LLM-ассистента для Telegram с использованием Docker.

## Предварительные требования

1. Установленный [Docker](https://www.docker.com/get-started)
2. Установленный [Docker Compose](https://docs.docker.com/compose/install/)
3. Полученные API ключи:
   - Telegram Bot Token (см. [инструкцию по BotFather](./botfather.md))
   - OpenRouter API Key (см. [инструкцию по OpenRouter](./openrouter.md))

## Подготовка конфигурации

1. Создайте файл `.env` в корневой директории проекта со следующим содержимым:

```
TELEGRAM_BOT_TOKEN=ваш_токен_бота
OPENROUTER_API_KEY=ваш_api_ключ_openrouter
```

## Запуск с помощью Docker Compose

### Использование Makefile (рекомендуемый способ)

В проекте настроен Makefile для удобного управления Docker-контейнерами:

1. Сборка образа:
```
make docker-build
```

2. Запуск контейнера:
```
make docker-run
```

3. Остановка контейнера:
```
make docker-stop
```

### Ручное управление через Docker Compose

Если вы не хотите использовать Makefile, можно управлять контейнерами напрямую:

1. Сборка образа:
```
docker-compose build
```

2. Запуск контейнера:
```
docker-compose up -d
```

3. Просмотр логов:
```
docker-compose logs -f
```

4. Остановка контейнера:
```
docker-compose down
```

## Проверка работы

После запуска контейнера бот должен быть доступен в Telegram. Проверьте его работу, отправив сообщение боту.

## Устранение неполадок

1. **Бот не отвечает**
   - Проверьте, что контейнер запущен: `docker ps`
   - Проверьте логи контейнера: `docker-compose logs -f`
   - Убедитесь, что API ключи указаны верно в файле `.env`

2. **Ошибки при сборке**
   - Убедитесь, что Docker и Docker Compose установлены и работают корректно
   - Проверьте, что все файлы проекта доступны в директории сборки

3. **Проблемы с доступом к файлам**
   - Проверьте права доступа к директории с логами: `./logs`